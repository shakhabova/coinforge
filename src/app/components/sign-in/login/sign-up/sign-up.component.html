<form class="sign-up-form" [formGroup]="formGroup" (submit)="onSubmit()">
  <h2>Sign up</h2>
  <div class="form-group">
    <label tuiLabel>
      First name
      <tui-input
        formControlName="firstName"
        tuiTextfieldSize="m"
        [tuiTextfieldLabelOutside]="true"
      >
        <input tuiTextfieldLegacy />
      </tui-input>
    </label>

    <label tuiLabel>
      Last name
      <tui-input
        formControlName="lastName"
        tuiTextfieldSize="m"
        [tuiTextfieldLabelOutside]="true"
      >
        <input tuiTextfieldLegacy />
      </tui-input>
    </label>
  </div>
  <label tuiLabel>
    Gender
    <tui-select
      formControlName="gender"
      tuiTextfieldSize="m"
      [tuiTextfieldLabelOutside]="true"
      [valueContent]="genderValueContent"
    >
      <input tuiTextfieldLegacy />
      <tui-data-list-wrapper
        *tuiDataList
        [itemContent]="genderValueContent"
        [items]="genders"
      />
      <ng-template #genderValueContent let-gender>
        {{ genderLabels[toGender(gender)] }}
      </ng-template>
    </tui-select>
  </label>

  <label class="phone-number">Phone number</label>
  <div class="phone-input">
    <tui-select
      formControlName="phoneCountryCode"
      tuiTextfieldSize="m"
      [tuiTextfieldLabelOutside]="true"
      [valueContent]="phoneCodeContent"
    >
      <cdk-virtual-scroll-viewport
        *tuiDataList
        tuiScrollable
        [itemSize]="44"
        class="scroll"
      >
        <tui-data-list>
          <button
            *cdkVirtualFor="let item of countryCodes"
            tuiOption
            [value]="item"
          >
            <ng-container
              [ngTemplateOutlet]="phoneCodeContent"
              [ngTemplateOutletContext]="{ $implicit: item }"
            ></ng-container>
          </button>
        </tui-data-list>
      </cdk-virtual-scroll-viewport>

      <ng-template #phoneCodeContent let-item>
        <div>
          <span>{{ item.code }}</span>
          <span>{{ item.name }}</span>
        </div>
      </ng-template>
    </tui-select>

    <tui-input
      formControlName="phoneNumber"
      tuiTextfieldSize="m"
      [tuiTextfieldLabelOutside]="true"
    >
      <input tuiTextfieldLegacy />
    </tui-input>
  </div>
  <label tuiLabel>
    Email
    <tui-input
      formControlName="email"
      tuiTextfieldSize="m"
      [tuiTextfieldLabelOutside]="true"
    >
      <input tuiTextfieldLegacy />
    </tui-input>

    <tui-error
      formControlName="email"
      [error]="[] | tuiFieldError | async"
    ></tui-error>
  </label>

  <label tuiLabel>
    Password
    <tui-textfield tuiTextfieldSize="m" [tuiTextfieldLabelOutside]="true">
      <input formControlName="password" tuiInputPassword />
    </tui-textfield>
  </label>
  <ul class="password-criteria">
    <li>
      <tui-icon
        [icon]="passwordCriteriaIcons().length"
        [style.color]="
          passwordCriteriaPassed().length ? 'var(--tui-status-positive)' : ''
        "
      ></tui-icon>
      <span>At least 6 characters</span>
    </li>
    <li>
      <tui-icon
        [icon]="passwordCriteriaIcons().uppercase"
        [style.color]="
          passwordCriteriaPassed().uppercase ? 'var(--tui-status-positive)' : ''
        "
      ></tui-icon>
      <span>One uppercase</span>
    </li>
    <li>
      <tui-icon
        [icon]="passwordCriteriaIcons().lowercase"
        [style.color]="
          passwordCriteriaPassed().lowercase ? 'var(--tui-status-positive)' : ''
        "
      ></tui-icon>
      <span>One lowercase</span>
    </li>
    <li>
      <tui-icon
        [icon]="passwordCriteriaIcons().number"
        [style.color]="
          passwordCriteriaPassed().number ? 'var(--tui-status-positive)' : ''
        "
      ></tui-icon>
      <span>One number</span>
    </li>
    <li>
      <tui-icon
        [icon]="passwordCriteriaIcons().char"
        [style.color]="
          passwordCriteriaPassed().char ? 'var(--tui-status-positive)' : ''
        "
      ></tui-icon>
      <span>One special case character (!#$ etc.)</span>
    </li>
  </ul>

  <label for="repeat-password">
    Repeat password
    <tui-textfield tuiTextfieldSize="m" [tuiTextfieldLabelOutside]="true">
      <input formControlName="repeatPassword" tuiInputPassword />
    </tui-textfield>
    <tui-error
      formControlName="repeatPassword"
      [error]="[] | tuiFieldError | async"
    ></tui-error>
  </label>

  <div class="form-group">
    <label for="country">Country</label>
    <select formControlName="country" id="country" name="country">
      <option value="azerbaijan">Azerbaijan</option>
      <option value="other">Other</option>
    </select>
  </div>
  <div class="form-group">
    <label for="city">City</label>
    <input
      formControlName="city"
      type="text"
      id="city"
      name="city"
      placeholder="Baku"
    />
  </div>
  <div class="form-group">
    <label for="postal-code">Postal code</label>
    <input
      formControlName="zipCode"
      type="text"
      id="postal-code"
      name="postal-code"
      placeholder="AZ1000"
    />
  </div>
  <div class="form-group">
    <label for="address">Address</label>
    <textarea
      formControlName="address"
      type="text"
      id="address"
      name="address"
      placeholder="28 May 9"
    ></textarea>
  </div>
  <button class="sign-up-btn" type="submit">Sign up</button>
  <p>Already have an account? <a href="#">Sign in</a></p>
</form>
